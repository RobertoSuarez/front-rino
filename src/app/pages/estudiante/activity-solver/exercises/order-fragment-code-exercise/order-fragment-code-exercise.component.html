<div class="exercise-container">
  <div class="instructions">
    <p>Arrastra los fragmentos de c√≥digo para ordenarlos correctamente.</p>
  </div>

  <div class="fragments-container" cdkDropList (cdkDropListDropped)="onDrop($event)">
    <div *ngFor="let fragment of fragmentsToOrder; let i = index"
         class="fragment-item"
         cdkDrag>
      <div class="fragment-content">
        <div class="fragment-number">{{ i + 1 }}</div>
        <pre class="fragment-code"><code>{{ fragment }}</code></pre>
      </div>
      <div class="fragment-handle" cdkDragHandle>
        <i class="pi pi-bars"></i>
      </div>

      <!-- Vista previa al arrastrar -->
      <div *cdkDragPreview class="fragment-preview">
        <pre class="fragment-code"><code>{{ fragment }}</code></pre>
      </div>

      <!-- Placeholder al arrastrar -->
      <div *cdkDragPlaceholder class="fragment-placeholder"></div>
    </div>
  </div>

  <div class="mt-4 flex justify-start">
    <p-button
      label="Reiniciar orden"
      icon="pi pi-refresh"
      styleClass="p-button-secondary p-button-outlined"
      (onClick)="resetOrder()">
    </p-button>
  </div>
</div>
