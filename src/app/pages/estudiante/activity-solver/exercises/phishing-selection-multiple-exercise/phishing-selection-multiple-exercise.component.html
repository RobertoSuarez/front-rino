<div class="exercise-surface">
  <div *ngIf="phishingContext" class="phishing-context" role="note">
    <i class="pi pi-exclamation-triangle"></i>
    <div>
      <h3>Escenario</h3>
      <p>{{ phishingContext }}</p>
    </div>
  </div>

  <div *ngIf="phishingImageUrl" class="phishing-image-wrapper">
    <img [src]="phishingImageUrl" alt="Ejemplo de posible phishing" class="phishing-image">
  </div>

  <p class="exercise-instruction">Marca todas las señales que indiquen phishing.</p>

  <div class="options-container" role="group" aria-label="Indicadores de phishing">
    <button
      *ngFor="let option of options; let i = index"
      type="button"
      class="option-item"
      [class.selected]="isSelected(option)"
      (click)="toggleOption(option)"
      (keydown.enter)="toggleOption(option)"
      (keydown.space)="toggleOption(option); $event.preventDefault()"
      [attr.aria-pressed]="isSelected(option)">
      <span class="option-index">{{ i + 1 }}</span>
      <span class="option-label">{{ option }}</span>
      <span class="selection-indicator" aria-hidden="true">✓</span>
    </button>
  </div>

  <p class="selection-counter">Seleccionadas: {{ selectedValues.length }}</p>
</div>
